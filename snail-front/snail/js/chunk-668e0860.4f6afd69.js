(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-668e0860","chunk-de5326f6"],{2438:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search"},[s("Row",{staticClass:"operation"},[s("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.add}},[e._v("添加")]),s("Button",{attrs:{icon:"md-trash"},on:{click:e.delAll}},[e._v("批量删除")]),s("Button",{attrs:{icon:"md-refresh"},on:{click:e.getDataList}},[e._v("刷新")]),s("Input",{staticStyle:{width:"250px"},attrs:{suffix:"ios-search",placeholder:"输入名称搜索",clearable:""},on:{"on-change":e.getDataList},model:{value:e.searchForm.title,callback:function(t){e.$set(e.searchForm,"title",t)},expression:"searchForm.title"}})],1),s("Row",[s("Alert",{attrs:{"show-icon":""}},[e._v(" 已选择 "),s("span",{staticClass:"select-count"},[e._v(e._s(e.selectList.length))]),e._v(" 项 "),s("a",{staticClass:"select-clear",on:{click:e.clearSelectAll}},[e._v("清空")])])],1),s("Row",[s("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.changeSelect}})],1),s("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[s("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),s("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[s("Form",{ref:"form",attrs:{model:e.form,"label-position":"top",rules:e.formValidate}},[s("FormItem",{attrs:{label:"禁用词名称",prop:"title"}},[s("Input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text"},on:{click:e.handleCancel}},[e._v("取消")]),s("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},i=[],o=s("365c"),r={name:"stop-words",data:function(){var e=this;return{openTip:!0,loading:!0,searchForm:{title:"",pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},modalType:0,modalVisible:!1,modalTitle:"",form:{name:""},formValidate:{name:[{required:!0,message:"不能为空",trigger:"change"}]},submitLoading:!1,selectList:[],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"禁用词",key:"title",minWidth:200,sortable:!0},{title:"创建时间",key:"createTime",sortable:!0,width:200,sortType:"desc"},{title:"更新时间",key:"createTime",sortable:!0,width:200},{title:"操作",key:"action",align:"center",width:180,fixed:"right",render:function(t,s){return t("div",[t("a",{on:{click:function(){e.edit(s.row)}}},"编辑"),t("Divider",{props:{type:"vertical"}}),t("a",{on:{click:function(){e.remove(s.row)}}},"删除")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(e){this.searchForm.pageNumber=e,this.getDataList(),this.clearSelectAll()},changePageSize:function(e){this.searchForm.pageSize=e,this.getDataList()},changeSort:function(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"==e.order&&(this.searchForm.order=""),this.getDataList()},getDataList:function(){var e=this;this.loading=!0,Object(o["mc"])(this.searchForm).then((function(t){e.loading=!1,t.success&&(e.data=t.result.content,e.total=t.result.totalElements)}))},handleCancel:function(){this.modalVisible=!1},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.submitLoading=!0,0==e.modalType?(delete e.form.id,Object(o["o"])(e.form).then((function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)}))):Object(o["sb"])(e.form).then((function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)})))}))},add:function(){this.modalType=0,this.modalTitle="添加",this.$refs.form.resetFields(),delete this.form.id,this.modalVisible=!0},edit:function(e){for(var t in this.modalType=1,this.modalTitle="编辑",this.$refs.form.resetFields(),e)null==e[t]&&(e[t]="");var s=JSON.stringify(e),a=JSON.parse(s);this.form=a,this.modalVisible=!0},remove:function(e){var t=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+e.title+" ?",loading:!0,onOk:function(){Object(o["Q"])({ids:e.id}).then((function(e){t.$Modal.remove(),e.success&&(t.clearSelectAll(),t.$Message.success("操作成功"),t.getDataList())}))}})},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSelect:function(e){this.selectList=e},delAll:function(){var e=this;this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:function(){var t="";e.selectList.forEach((function(e){t+=e.id+","})),t=t.substring(0,t.length-1),Object(o["Q"])({ids:t}).then((function(t){e.$Modal.remove(),t.success&&(e.$Message.success("操作成功"),e.clearSelectAll(),e.getDataList())}))}})}},mounted:function(){this.init()}},n=r,l=(s("9698"),s("2877")),c=Object(l["a"])(n,a,i,!1,null,null,null);t["default"]=c.exports},"53ff":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Card",[s("Layout",[s("Sider",{staticStyle:{background:"#fff","max-width":"220px",flex:"0 0 220px"},attrs:{"hide-trigger":""}},[s("Menu",{attrs:{"active-name":e.currName,theme:"light",width:"auto"},on:{"on-select":function(t){e.currName=t}}},[s("MenuItem",{attrs:{name:"oss"}},[e._v("文件对象存储配置")]),s("MenuItem",{attrs:{name:"sms"}},[e._v("短信配置")]),s("MenuItem",{attrs:{name:"email"}},[e._v("邮件配置")]),s("MenuItem",{attrs:{name:"vaptcha"}},[e._v("Vaptcha验证码")]),s("MenuItem",{attrs:{name:"stopWord"}},[e._v("禁用词管理")]),s("MenuItem",{attrs:{name:"notice"}},[e._v("系统公告配置")]),s("MenuItem",{attrs:{name:"other"}},[e._v("其他配置")])],1)],1),s("Content",{style:{padding:"8px 40px",minHeight:"550px",background:"#fff"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:"oss"==e.currName,expression:"currName == 'oss'"}]},[s("div",{staticClass:"setting-title"},[e._v("文件对象存储配置")]),s("div",{staticStyle:{display:"flex",position:"relative"}},[s("Form",{ref:"ossForm",attrs:{model:e.oss,"label-width":110,"label-position":"left",rules:e.ossValidate}},[s("FormItem",{attrs:{label:"服务提供商",prop:"serviceName"}},[s("Select",{staticStyle:{width:"230px"},attrs:{placeholder:"请选择"},on:{"on-change":e.changeOss},model:{value:e.oss.serviceName,callback:function(t){e.$set(e.oss,"serviceName",t)},expression:"oss.serviceName"}},[s("Option",{attrs:{value:"LOCAL_OSS"}},[e._v("本地服务器")]),s("Option",{attrs:{value:"MINIO_OSS"}},[e._v("MinIO")]),s("Option",{attrs:{value:"QINIU_OSS"}},[e._v("七牛云")]),s("Option",{attrs:{value:"ALI_OSS"}},[e._v("阿里云")]),s("Option",{attrs:{value:"TENCENT_OSS"}},[e._v("腾讯云")])],1)],1),"LOCAL_OSS"!=e.oss.serviceName?s("div",[s("FormItem",{attrs:{label:"accessKey",prop:"accessKey"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入accessKey",disabled:e.changeLoading},model:{value:e.oss.accessKey,callback:function(t){e.$set(e.oss,"accessKey",t)},expression:"oss.accessKey"}})],1),s("FormItem",{attrs:{label:"secretKey",prop:"secretKey"}},[s("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[s("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",disabled:e.changeLoading,readonly:!e.changedOssSK,icon:"ios-eye",placeholder:"请输入secretKey"},on:{"on-click":function(t){return e.seeSecret(e.oss.serviceName)}},model:{value:e.oss.secretKey,callback:function(t){e.$set(e.oss,"secretKey",t)},expression:"oss.secretKey"}})],1)],1),"QINIU_OSS"==e.oss.serviceName?s("FormItem",{attrs:{label:"zone存储区域",prop:"zone"}},[s("Select",{staticStyle:{width:"380px"},attrs:{placeholder:"请选择存储区域",disabled:e.changeLoading},model:{value:e.oss.zone,callback:function(t){e.$set(e.oss,"zone",t)},expression:"oss.zone"}},[s("Option",{attrs:{value:-1}},[e._v("自动判断")]),s("Option",{attrs:{value:0}},[e._v("华东")]),s("Option",{attrs:{value:1}},[e._v("华北")]),s("Option",{attrs:{value:2}},[e._v("华南")]),s("Option",{attrs:{value:3}},[e._v("北美")]),s("Option",{attrs:{value:4}},[e._v("东南亚")])],1)],1):e._e(),s("FormItem",{attrs:{label:"bucket空间",prop:"bucket"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入bucket空间名",disabled:e.changeLoading},model:{value:e.oss.bucket,callback:function(t){e.$set(e.oss,"bucket",t)},expression:"oss.bucket"}})],1),"TENCENT_OSS"==e.oss.serviceName?s("FormItem",{attrs:{label:"所属地域",prop:"bucketRegion"}},[s("Select",{staticStyle:{width:"380px"},attrs:{placeholder:"请选择或输入搜索",filterable:"",transfer:"",disabled:e.changeLoading},model:{value:e.oss.bucketRegion,callback:function(t){e.$set(e.oss,"bucketRegion",t)},expression:"oss.bucketRegion"}},e._l(e.dictBucketRegions,(function(t,a){return s("Option",{key:a,attrs:{value:t.value}},[e._v(e._s(t.title))])})),1)],1):e._e(),s("FormItem",{attrs:{label:"endpoint域名",prop:"endpoint",error:e.errorMsg}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:e.endpointPH,disabled:e.changeLoading},model:{value:e.oss.endpoint,callback:function(t){e.$set(e.oss,"endpoint",t)},expression:"oss.endpoint"}},[s("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",prop:"http"},slot:"prepend",model:{value:e.oss.http,callback:function(t){e.$set(e.oss,"http",t)},expression:"oss.http"}},[s("Option",{attrs:{value:"http://"}},[e._v("http://")]),s("Option",{attrs:{value:"https://"}},[e._v("https://")])],1)],1)],1)],1):s("div",[s("FormItem",{attrs:{label:"存储磁盘路径",prop:"filePath",error:e.errorMsg2}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"例如D:/upload",disabled:e.changeLoading},model:{value:e.oss.filePath,callback:function(t){e.$set(e.oss,"filePath",t)},expression:"oss.filePath"}})],1),s("FormItem",{attrs:{label:"文件预览接口",prop:"endpoint",error:e.errorMsg}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入文件预览接口"},model:{value:e.oss.endpoint,callback:function(t){e.$set(e.oss,"endpoint",t)},expression:"oss.endpoint"}},[s("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",prop:"http",disabled:e.changeLoading},slot:"prepend",model:{value:e.oss.http,callback:function(t){e.$set(e.oss,"http",t)},expression:"oss.http"}},[s("Option",{attrs:{value:"http://"}},[e._v("http://")]),s("Option",{attrs:{value:"https://"}},[e._v("https://")])],1)],1)],1)],1),s("FormItem",[s("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",disabled:e.changeLoading,loading:e.saveLoading},on:{click:e.saveEditOss}},[e._v("保存并启用")])],1)],1),e.loading?s("Spin",{attrs:{fix:""}}):e._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"sms"==e.currName,expression:"currName == 'sms'"}]},[s("div",{staticClass:"setting-title"},[e._v("短信配置")]),s("div",{staticStyle:{display:"flex",position:"relative"}},[s("Form",{ref:"smsForm",attrs:{model:e.sms,"label-width":110,"label-position":"left",rules:e.smsValidate}},[s("FormItem",{attrs:{label:"服务提供商",prop:"serviceName"}},[s("Select",{staticStyle:{width:"230px"},attrs:{placeholder:"请选择"},model:{value:e.sms.serviceName,callback:function(t){e.$set(e.sms,"serviceName",t)},expression:"sms.serviceName"}},[s("Option",{attrs:{value:"ALI_SMS"}},[e._v("阿里云")])],1)],1),s("FormItem",{attrs:{label:"accessKey",prop:"accessKey"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入"},model:{value:e.sms.accessKey,callback:function(t){e.$set(e.sms,"accessKey",t)},expression:"sms.accessKey"}})],1),s("FormItem",{attrs:{label:"secretKey",prop:"secretKey"}},[s("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[s("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",readonly:!e.changedSmsSK,icon:"ios-eye",placeholder:"请输入"},on:{"on-click":function(t){return e.seeSecret(e.sms.serviceName)}},model:{value:e.sms.secretKey,callback:function(t){e.$set(e.sms,"secretKey",t)},expression:"sms.secretKey"}})],1)],1),s("FormItem",{attrs:{label:"短信签名",prop:"signName"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入短信签名，例如Snail"},model:{value:e.sms.signName,callback:function(t){e.$set(e.sms,"signName",t)},expression:"sms.signName"}})],1),s("FormItem",{attrs:{label:"使用场景",prop:"type"}},[s("Select",{staticStyle:{width:"380px"},attrs:{placeholder:"请选择"},on:{"on-change":e.changeSmsType},model:{value:e.sms.type,callback:function(t){e.$set(e.sms,"type",t)},expression:"sms.type"}},[s("Option",{attrs:{value:"0"}},[e._v("通用验证码")]),s("Option",{attrs:{value:"1"}},[e._v("注册")]),s("Option",{attrs:{value:"2"}},[e._v("登录")]),s("Option",{attrs:{value:"3"}},[e._v("修改绑定手机号")]),s("Option",{attrs:{value:"4"}},[e._v("修改密码")]),s("Option",{attrs:{value:"5"}},[e._v("重置密码")]),s("Option",{attrs:{value:"6"}},[e._v("工作流消息")])],1)],1),s("FormItem",{attrs:{label:"模版CODE",prop:"templateCode"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入场景对应短信模版CODE，例如SMS_123456789"},model:{value:e.sms.templateCode,callback:function(t){e.$set(e.sms,"templateCode",t)},expression:"sms.templateCode"}})],1),s("FormItem",[s("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditSms}},[e._v("保存更改")])],1)],1),e.loading?s("Spin",{attrs:{fix:""}}):e._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"email"==e.currName,expression:"currName == 'email'"}]},[s("div",{staticClass:"setting-title"},[e._v("邮箱配置")]),s("div",{staticStyle:{display:"flex",position:"relative"}},[s("Form",{ref:"emailForm",attrs:{model:e.email,"label-width":110,"label-position":"left",rules:e.emailValidate}},[s("FormItem",{attrs:{label:"邮箱服务器",prop:"host"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入邮箱服务器Host，例如QQ邮箱为smtp.qq.com"},model:{value:e.email.host,callback:function(t){e.$set(e.email,"host",t)},expression:"email.host"}})],1),s("FormItem",{attrs:{label:"发送邮箱账号",prop:"username"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入发送者Email账号"},model:{value:e.email.username,callback:function(t){e.$set(e.email,"username",t)},expression:"email.username"}})],1),s("FormItem",{attrs:{label:"邮箱授权码",prop:"password"}},[s("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[s("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",readonly:!e.changedEmailPass,icon:"ios-eye",placeholder:"请输入邮箱授权码，进入邮箱-设置中可找到"},on:{"on-click":function(t){return e.seeSecret("EMAIL_SETTING")}},model:{value:e.email.password,callback:function(t){e.$set(e.email,"password",t)},expression:"email.password"}})],1)],1),s("FormItem",[s("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditEmail}},[e._v("保存更改")])],1)],1),e.loading?s("Spin",{attrs:{fix:""}}):e._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"vaptcha"==e.currName,expression:"currName == 'vaptcha'"}]},[s("div",{staticClass:"setting-title"},[e._v("Vaptcha验证码配置")]),s("div",{staticStyle:{display:"flex",position:"relative"}},[s("Form",{ref:"vaptchaForm",attrs:{model:e.vaptcha,"label-width":110,"label-position":"left",rules:e.vaptchaValidate}},[s("FormItem",{attrs:{label:"VID",prop:"vid"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入验证单元VID"},model:{value:e.vaptcha.vid,callback:function(t){e.$set(e.vaptcha,"vid",t)},expression:"vaptcha.vid"}})],1),s("FormItem",{attrs:{label:"secretKey",prop:"secretKey"}},[s("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[s("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",readonly:!e.changedVaptchaSK,icon:"ios-eye",placeholder:"请输入验证单元Key"},on:{"on-click":function(t){return e.seeSecret("VAPTCHA_SETTING")}},model:{value:e.vaptcha.secretKey,callback:function(t){e.$set(e.vaptcha,"secretKey",t)},expression:"vaptcha.secretKey"}})],1)],1),s("FormItem",[s("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditVaptcha}},[e._v("保存更改")])],1)],1),e.loading?s("Spin",{attrs:{fix:""}}):e._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"stopWord"==e.currName,expression:"currName == 'stopWord'"}]},[s("stop-word")],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"notice"==e.currName,expression:"currName == 'notice'"}]},[s("div",{staticClass:"setting-title"},[e._v(" 系统公告配置 "),s("Tooltip",{attrs:{content:"访问系统公告，右上角弹出",placement:"right"}},[s("Icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"md-help-circle",size:"20",color:"#c5c5c5"}})],1)],1),s("div",{staticStyle:{display:"flex"}},[s("Form",{ref:"noticeForm",attrs:{model:e.notice,"label-width":110,"label-position":"left"}},[s("FormItem",{attrs:{label:"公告开关",prop:"open"}},[s("i-switch",{model:{value:e.notice.open,callback:function(t){e.$set(e.notice,"open",t)},expression:"notice.open"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])])],1),s("FormItem",{attrs:{label:"展示时长",prop:"duration"}},[s("Tooltip",{attrs:{trigger:"hover",placement:"right",content:"设为0不自动关闭"}},[s("InputNumber",{attrs:{max:1e3,min:0},model:{value:e.notice.duration,callback:function(t){e.$set(e.notice,"duration",t)},expression:"notice.duration"}}),s("span",{staticStyle:{"margin-left":"5px"}},[e._v("秒")])],1)],1),s("FormItem",{attrs:{label:"展示页面",prop:"position"}},[s("Select",{staticStyle:{width:"380px"},attrs:{placeholder:"请选择"},model:{value:e.notice.position,callback:function(t){e.$set(e.notice,"position",t)},expression:"notice.position"}},[s("Option",{attrs:{value:"LOGIN"}},[e._v("登录页（访问系统时）")]),s("Option",{attrs:{value:"HOME"}},[e._v("首页（登录系统后）")])],1)],1),s("FormItem",{attrs:{label:"公告标题",prop:"title"}},[s("Input",{staticStyle:{width:"380px"},model:{value:e.notice.title,callback:function(t){e.$set(e.notice,"title",t)},expression:"notice.title"}})],1),s("FormItem",{attrs:{label:"公告内容",prop:"content"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"textarea",rows:4,placeholder:""},model:{value:e.notice.content,callback:function(t){e.$set(e.notice,"content",t)},expression:"notice.content"}})],1),s("FormItem",[s("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditNotice}},[e._v("保存更改")])],1)],1),e.loading?s("Spin",{attrs:{fix:""}}):e._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"other"==e.currName,expression:"currName == 'other'"}]},[s("div",{staticClass:"setting-title"},[e._v("其他配置")]),s("div",{staticStyle:{display:"flex"}},[s("Form",{ref:"otherForm",attrs:{model:e.other,"label-width":110,"label-position":"left",rules:e.otherValidate}},[s("FormItem",{attrs:{label:"应用部署域名",prop:"domain"}},[s("Tooltip",{attrs:{placement:"right",content:"拼接部分资源访问链接使用"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入应用部署域名前缀，如http://snail.snail.cn"},model:{value:e.other.domain,callback:function(t){e.$set(e.other,"domain",t)},expression:"other.domain"}})],1)],1),s("FormItem",{attrs:{label:"单点登录域名",prop:"ssoDomain"}},[s("Tooltip",{attrs:{"max-width":"250",transfer:"",placement:"right",content:"该域名及子域名下将可获得单点登录所需数据"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入应用部署一级域名，如snail.cn"},model:{value:e.other.ssoDomain,callback:function(t){e.$set(e.other,"ssoDomain",t)},expression:"other.ssoDomain"}})],1)],1),s("FormItem",{attrs:{label:"IP黑名单",prop:"blacklist"}},[s("Input",{staticStyle:{width:"380px"},attrs:{type:"textarea",rows:4,placeholder:"多个以回车分隔"},model:{value:e.other.blacklist,callback:function(t){e.$set(e.other,"blacklist",t)},expression:"other.blacklist"}})],1),s("FormItem",[s("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditOther}},[e._v("保存更改")])],1)],1),e.loading?s("Spin",{attrs:{fix:""}}):e._e()],1)])])],1)],1)],1)},i=[],o=s("365c"),r=s("2438"),n={name:"setting-manage",components:{stopWord:r["default"]},data:function(){return{currName:"oss",loading:!1,changeLoading:!1,saveLoading:!1,oss:{serviceName:"",accessKey:"",secretKey:"",endpoint:"",bucket:""},changedOssSK:!1,sms:{serviceName:"ALI_SMS",accessKey:"",secretKey:"",signName:"",type:"",templateCode:""},changedSmsSK:!1,email:{host:"",username:"",password:""},changedEmailPass:!1,errorMsg:"",errorMsg2:"",vaptcha:{vID:"",secretKey:""},changedVaptchaSK:!1,notice:{duration:10},other:{domain:"http://127.0.0.1:8888",ssoDomain:"",blacklist:""},ossValidate:{serviceName:[{required:!0,message:"请选择",trigger:"change"}],accessKey:[{required:!0,message:"不能为空",trigger:"change"}],secretKey:[{required:!0,message:"不能为空",trigger:"change"}],endpoint:[{required:!0,message:"不能为空",trigger:"change"}],bucket:[{required:!0,message:"不能为空",trigger:"change"}]},smsValidate:{serviceName:[{required:!0,message:"请选择",trigger:"change"}],accessKey:[{required:!0,message:"不能为空",trigger:"change"}],secretKey:[{required:!0,message:"不能为空",trigger:"change"}],signName:[{required:!0,message:"不能为空",trigger:"change"}],type:[{required:!0,message:"不能为空",trigger:"change"}],templateCode:[{required:!0,message:"不能为空",trigger:"change"}]},emailValidate:{host:[{required:!0,message:"不能为空",trigger:"change"}],username:[{required:!0,message:"不能为空",trigger:"change"}],password:[{required:!0,message:"不能为空",trigger:"change"}]},vaptchaValidate:{vID:[{required:!0,message:"不能为空",trigger:"change"}],secretKey:[{required:!0,message:"不能为空",trigger:"change"}]},otherValidate:{domain:[{required:!0,message:"不能为空",trigger:"change"}]},endpointPH:"请输入空间访问域名",dictBucketRegions:[]}},methods:{init:function(){this.initOssSet(),this.initSmsSet(),this.initEmailSet(),this.initVaptchaSet(),this.initNoticeSet(),this.initOtherSet(),this.getDictBucketRegions()},getDictBucketRegions:function(){var e=this;Object(o["Nb"])("tencent_bucket_region").then((function(t){t.success&&(e.dictBucketRegions=t.result)}))},initOssSet:function(){var e=this;this.loading=!0,Object(o["u"])().then((function(t){if(t.success&&t.result){var s=t.result;Object(o["Zb"])(s).then((function(t){if(e.loading=!1,t.result){for(var s in t.result)null==t.result[s]&&(t.result[s]="");e.oss=t.result}else e.changedOssSK=!0}))}else e.loading=!1,e.changedOssSK=!0}))},changeOss:function(e){var t=this;this.endpointPH="ALI_OSS"==e?"请输入EndPoint(地域节点) 非Bucket域名":"TENCENT_OSS"==e?"请输入完整请求域名":"请输入空间访问域名",this.changeLoading=!0,Object(o["Zb"])(e).then((function(s){if(t.changeLoading=!1,s.result){for(var a in s.result)null==s.result[a]&&(s.result[a]="");t.oss=s.result,t.changedOssSK=!1}else t.oss={serviceName:e},"LOCAL_OSS"==t.oss.serviceName&&(t.oss.http="http://",t.oss.endpoint="127.0.0.1:9999/snail/file/view"),t.changedOssSK=!0}))},initSmsSet:function(){var e=this;this.loading=!0,Object(o["kc"])(this.sms.serviceName).then((function(t){if(e.loading=!1,t.result){for(var s in t.result)null==t.result[s]&&(t.result[s]="");e.sms=t.result,e.sms.type="0",e.changeSmsType(e.sms.type)}else e.changedSmsSK=!0}))},changeSmsType:function(e){var t=this;Object(o["lc"])(e).then((function(e){e.success&&(t.sms.templateCode=e.result)}))},initEmailSet:function(){var e=this;this.loading=!0,Object(o["Ob"])().then((function(t){if(e.loading=!1,t.result){for(var s in t.result)null==t.result[s]&&(t.result[s]="");e.email=t.result}else e.changedEmailPass=!0}))},initVaptchaSet:function(){var e=this;this.loading=!0,Object(o["pc"])().then((function(t){if(e.loading=!1,t.result){for(var s in t.result)null==t.result[s]&&(t.result[s]="");e.vaptcha=t.result}else e.changedVaptchaSK=!0}))},initOtherSet:function(){var e=this;this.loading=!0,Object(o["ac"])().then((function(t){if(e.loading=!1,t.result){for(var s in t.result)null==t.result[s]&&(t.result[s]="");e.other=t.result}}))},initNoticeSet:function(){var e=this;this.loading=!0,Object(o["Yb"])().then((function(t){if(e.loading=!1,t.result){for(var s in t.result)null==t.result[s]&&(t.result[s]="");e.notice=t.result}}))},seeSecret:function(e){var t=this;e&&Object(o["Mc"])(e).then((function(e){e.success&&("oss"==t.currName?(t.oss.secretKey=e.result,t.changedOssSK=!0):"sms"==t.currName?(t.sms.secretKey=e.result,t.changedSmsSK=!0):"email"==t.currName?(t.email.password=e.result,t.changedEmailPass=!0):"vaptcha"==t.currName&&(t.vaptcha.secretKey=e.result,t.changedVaptchaSK=!0))}))},saveEditOss:function(){var e=this;if("LOCAL_OSS"==this.oss.serviceName){if(!this.oss.http)return void(this.errorMsg="请选择http协议");if(this.errorMsg="",!this.oss.endpoint)return void(this.errorMsg="请输入文件预览接口");if(this.errorMsg="",!this.oss.filePath)return void(this.errorMsg2="请输入存储磁盘路径");this.errorMsg2="",Object(o["jb"])(this.oss).then((function(t){e.saveLoading=!1,t.success&&e.$Message.success("保存成功")}))}else this.$refs.ossForm.validate((function(t){if(t){if(!e.oss.http)return void(e.errorMsg="请选择http协议");e.errorMsg="",e.saveLoading=!0,e.oss.changed=e.changedOssSK,Object(o["jb"])(e.oss).then((function(t){e.saveLoading=!1,t.success&&e.$Message.success("保存成功")}))}}))},saveEditSms:function(){var e=this;this.$refs.smsForm.validate((function(t){t&&(e.saveLoading=!0,e.sms.changed=e.changedSmsSK,Object(o["rb"])(e.sms).then((function(t){e.saveLoading=!1,t.success&&e.$Message.success("保存成功")})))}))},saveEditEmail:function(){var e=this;this.$refs.emailForm.validate((function(t){t&&(e.saveLoading=!0,e.email.changed=e.changedEmailPass,Object(o["fb"])(e.email).then((function(t){e.saveLoading=!1,t.success&&e.$Message.success("保存成功")})))}))},saveEditVaptcha:function(){var e=this;this.$refs.vaptchaForm.validate((function(t){t&&(e.saveLoading=!0,e.vaptcha.changed=e.changedVaptchaSK,Object(o["ub"])(e.vaptcha).then((function(t){e.saveLoading=!1,t.success&&e.$Message.success("保存成功")})))}))},saveEditOther:function(){var e=this;this.$refs.otherForm.validate((function(t){t&&(e.saveLoading=!0,Object(o["kb"])(e.other).then((function(t){e.saveLoading=!1,t.success&&e.$Message.success("保存成功")})))}))},saveEditNotice:function(){var e=this;this.saveLoading=!0;var t=JSON.stringify(this.notice),s=JSON.parse(t);this.notice.duration||(s.duration=0),Object(o["ib"])(s).then((function(t){e.saveLoading=!1,t.success&&e.$Message.success("保存成功")}))}},mounted:function(){var e=this.$route.query.name;e&&(this.currName=e),this.init()}},l=n,c=(s("b0e9"),s("2877")),d=Object(c["a"])(l,a,i,!1,null,null,null);t["default"]=d.exports},"94ff":function(e,t,s){},9698:function(e,t,s){"use strict";s("ca56")},b0e9:function(e,t,s){"use strict";s("94ff")},ca56:function(e,t,s){}}]);