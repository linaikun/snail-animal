(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7be75f83","chunk-7a77d620"],{"0a4a":function(t,e,s){"use strict";s("146a")},"0c1c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"set-password"},[s("Poptip",{attrs:{transfer:"",trigger:"focus",placement:"right",width:"250"}},[s("Input",{attrs:{type:"password",password:"",maxlength:t.maxlength,size:t.size,placeholder:t.placeholder,disabled:t.disabled,readonly:t.readonly},on:{"on-change":t.handleChange},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}}),s("div",{class:t.tipStyle,attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"words"},[t._v("强度 : "+t._s(t.strength))]),s("Progress",{staticStyle:{margin:"13px 0"},attrs:{percent:t.strengthValue,status:t.progressStatus,"hide-info":""}}),s("br"),t._v("请至少输入 6 个字符。请不要使 "),s("br"),t._v("用容易被猜到的密码。 ")],1)],1)],1)},r=[],n={name:"setPassword",props:{value:String,size:String,placeholder:{type:String,default:"请输入密码，长度为6-20个字符"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:{type:Number,default:20}},data:function(){return{currentValue:this.value,tipStyle:"password-tip-none",strengthValue:0,progressStatus:"normal",strength:"无",grade:0}},methods:{checkStrengthValue:function(t){var e=0;return/\d/.test(t)&&e++,/[a-z]/.test(t)&&e++,/[A-Z]/.test(t)&&e++,/\W/.test(t)&&e++,t.length>=10&&e++,this.grade=e,e},strengthChange:function(){if(!this.currentValue)return this.tipStyle="password-tip-none",this.strength="无",void(this.strengthValue=0);var t=this.checkStrengthValue(this.currentValue);t<=1?(this.progressStatus="wrong",this.tipStyle="password-tip-weak",this.strength="弱",this.strengthValue=33):t>=2&&t<=4?(this.progressStatus="normal",this.tipStyle="password-tip-middle",this.strength="中",this.strengthValue=66):(this.progressStatus="success",this.tipStyle="password-tip-strong",this.strength="强",this.strengthValue=100)},handleChange:function(t){this.strengthChange(),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue,this.grade,this.strength)},setCurrentValue:function(t){t!==this.currentValue&&(this.currentValue=t,this.strengthChange(),this.$emit("on-change",this.currentValue,this.grade,this.strength))}},watch:{value:function(t){this.setCurrentValue(t)}}},i=n,o=(s("7c1e"),s("2877")),l=Object(o["a"])(i,a,r,!1,null,null,null);e["default"]=l.exports},"146a":function(t,e,s){},3906:function(t,e,s){},"7c1e":function(t,e,s){"use strict";s("3906")},fdd1:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Card",{staticClass:"change-pass"},[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{attrs:{type:"key"}}),t._v("修改密码 ")],1),s("div",[s("Form",{ref:"editPasswordForm",staticStyle:{width:"450px"},attrs:{model:t.editPasswordForm,"label-width":100,"label-position":"right",rules:t.passwordValidate}},[s("FormItem",{attrs:{label:"原密码",prop:"oldPass"}},[s("Input",{attrs:{type:"password",placeholder:"请输入现在使用的密码"},model:{value:t.editPasswordForm.oldPass,callback:function(e){t.$set(t.editPasswordForm,"oldPass",e)},expression:"editPasswordForm.oldPass"}})],1),s("FormItem",{attrs:{label:"新密码",prop:"newPass"}},[s("SetPassword",{on:{"on-change":t.changeInputPass},model:{value:t.editPasswordForm.newPass,callback:function(e){t.$set(t.editPasswordForm,"newPass",e)},expression:"editPasswordForm.newPass"}})],1),s("FormItem",{attrs:{label:"确认新密码",prop:"rePass"}},[s("Input",{attrs:{type:"password",placeholder:"请再次输入新密码"},model:{value:t.editPasswordForm.rePass,callback:function(e){t.$set(t.editPasswordForm,"rePass",e)},expression:"editPasswordForm.rePass"}})],1),s("FormItem",[s("Button",{staticStyle:{width:"100px","margin-right":"5px"},attrs:{type:"primary",loading:t.savePassLoading},on:{click:t.saveEditPass}},[t._v("保存")]),s("Button",{on:{click:t.cancelEditPass}},[t._v("取消")])],1)],1)],1)])],1)},r=[],n=s("0c1c"),i=s("365c"),o={name:"change_pass",components:{SetPassword:n["default"]},data:function(){var t=this,e=function(e,s,a){s!==t.editPasswordForm.newPass?a(new Error("两次输入密码不一致")):a()};return{savePassLoading:!1,editPasswordForm:{oldPass:"",newPass:"",rePass:""},strength:"",passwordValidate:{oldPass:[{required:!0,message:"请输入原密码",trigger:"change"}],newPass:[{required:!0,message:"请输入新密码",trigger:"change"},{min:6,message:"请至少输入6个字符",trigger:"change"},{max:32,message:"最多输入32个字符",trigger:"change"}],rePass:[{required:!0,message:"请再次输入新密码",trigger:"change"},{validator:e,trigger:"change"}]}}},methods:{changeInputPass:function(t,e,s){this.strength=s},saveEditPass:function(){var t=this,e={password:this.editPasswordForm.oldPass,newPass:this.editPasswordForm.newPass,passStrength:this.strength};this.$refs["editPasswordForm"].validate((function(s){s&&(t.savePassLoading=!0,Object(i["t"])(e).then((function(e){t.savePassLoading=!1,e.success&&t.$Modal.success({title:"修改密码成功",content:"修改密码成功，需重新登录",onOk:function(){t.$store.commit("logout",t),t.$store.commit("clearOpenedSubmenu"),t.$router.push({name:"login"})}})})))}))},cancelEditPass:function(){this.$store.commit("removeTag","change_pass"),localStorage.pageOpenedList=JSON.stringify(this.$store.state.app.pageOpenedList);var t="",e=this.$store.state.app.pageOpenedList.length;t=e>1?this.$store.state.app.pageOpenedList[e-1].name:this.$store.state.app.pageOpenedList[0].name,this.$router.push({name:t})}},mounted:function(){}},l=o,d=(s("0a4a"),s("2877")),c=Object(d["a"])(l,a,r,!1,null,null,null);e["default"]=c.exports}}]);