(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f88d85e8"],{"48b2":function(e,t,i){"use strict";i("ffd1")},d8ce:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search"},[i("Card",[i("Row",{staticClass:"operation"},[i("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.add}},[e._v("添加")]),i("Button",{attrs:{icon:"md-trash"},on:{click:e.delAll}},[e._v("批量删除")]),i("Button",{attrs:{icon:"md-refresh"},on:{click:e.getDataList}},[e._v("刷新")]),i("Button",{attrs:{type:"dashed"},on:{click:function(t){e.openTip=!e.openTip}}},[e._v(e._s(e.openTip?"关闭提示":"开启提示"))]),i("Poptip",{staticStyle:{float:"right"},attrs:{placement:"bottom-end",width:"360"}},[i("Button",{attrs:{shape:"circle",icon:"md-apps"}}),i("div",{attrs:{slot:"content"},slot:"content"},[i("CheckboxGroup",{on:{"on-change":e.changeColumns},model:{value:e.columnSettings,callback:function(t){e.columnSettings=t},expression:"columnSettings"}},e._l(e.columns,(function(t,a){return i("div",{key:a},[t.key&&t.key.indexOf(e.whiteColumns)<=-1?i("Col",{attrs:{span:"8"}},[i("Checkbox",{attrs:{label:t.key,disabled:t.disabled}},[i("span",[e._v(e._s(t.title))])])],1):e._e()],1)})),0)],1)],1)],1),i("Row",{directives:[{name:"show",rawName:"v-show",value:e.openTip,expression:"openTip"}]},[i("Alert",{attrs:{"show-icon":""}},[e._v(" 已选择 "),i("span",{staticClass:"select-count"},[e._v(e._s(e.selectList.length))]),e._v(" 项 "),i("a",{staticClass:"select-clear",on:{click:e.clearSelectAll}},[e._v("清空")]),e._v(" 这里还可以做一些数据统计显示 "),i("span",{staticStyle:{float:"right"}},[e._v("点击右上角按钮配置动态列↑")])])],1),i("Row",[i("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.dynamicColums,data:e.data,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.changeSelect}})],1),i("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[i("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),i("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[i("Form",{ref:"form",attrs:{model:e.form,"label-width":80,rules:e.formValidate}},[i("FormItem",{attrs:{label:"名称",prop:"name"}},[i("Input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"text"},on:{click:e.handleCancel}},[e._v("取消")]),i("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},s=[],n={name:"simple-table",data:function(){var e=this;return{openTip:!0,loading:!0,searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},modalType:0,modalVisible:!1,modalTitle:"",form:{name:""},formValidate:{name:[{required:!0,message:"不能为空",trigger:"change"}]},submitLoading:!1,selectList:[],columnSettings:["name","sex","createTime","updateTime"],whiteColumns:["action"],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"名称",key:"name",sortable:!0},{title:"性别",key:"sex",sortable:!0},{title:"创建时间",key:"createTime",sortable:!0,sortType:"desc"},{title:"更新时间",key:"updateTime",sortable:!0,disabled:!0},{title:"操作",key:"action",align:"center",render:function(t,i){return t("div",[t("a",{on:{click:function(){e.edit(i.row)}}},"编辑"),t("Divider",{props:{type:"vertical"}}),t("a",{on:{click:function(){e.remove(i.row)}}},"删除")])}}],columnChange:!1,data:[],total:0}},computed:{dynamicColums:function(){return this.columnChange,this.columns.filter((function(e){return 1!=e.hide}))}},methods:{init:function(){this.getDataList()},changeColumns:function(e){var t=this;this.columns.map((function(i){for(var a=!0,s=0;s<e.length;s++){if(!i.key){a=!1;break}if(i.key==e[s]||i.key.indexOf(t.whiteColumns)>-1){a=!1;break}}return i.hide=a,i})),this.columnChange=!this.columnChange},changePage:function(e){this.searchForm.pageNumber=e,this.getDataList(),this.clearSelectAll()},changePageSize:function(e){this.searchForm.pageSize=e,this.getDataList()},changeSort:function(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"==e.order&&(this.searchForm.order=""),this.getDataList()},getDataList:function(){this.loading=!0,this.data=[{id:"1",name:"Snail",sex:"男",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"},{id:"2",name:"snail",sex:"女",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"}],this.total=this.data.length,this.loading=!1},handleCancel:function(){this.modalVisible=!1},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.submitLoading=!0,0==e.modalType?(delete e.form.id,e.submitLoading=!1,e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1):(e.submitLoading=!1,e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1))}))},add:function(){this.modalType=0,this.modalTitle="添加",this.$refs.form.resetFields(),delete this.form.id,this.modalVisible=!0},edit:function(e){for(var t in this.modalType=1,this.modalTitle="编辑",this.$refs.form.resetFields(),e)null==e[t]&&(e[t]="");var i=JSON.stringify(e),a=JSON.parse(i);this.form=a,this.modalVisible=!0},remove:function(e){var t=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+e.name+" ?",loading:!0,onOk:function(){t.$Message.success("操作成功"),t.clearSelectAll(),t.$Modal.remove(),t.getDataList()}})},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSelect:function(e){this.selectList=e},delAll:function(){var e=this;this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:function(){var t="";e.selectList.forEach((function(e){t+=e.id+","})),t=t.substring(0,t.length-1),e.$Message.success("操作成功"),e.$Modal.remove(),e.clearSelectAll(),e.getDataList()}})}},mounted:function(){this.init()}},o=n,l=(i("48b2"),i("2877")),r=Object(l["a"])(o,a,s,!1,null,null,null);t["default"]=r.exports},ffd1:function(e,t,i){}}]);