(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6677bb78"],{"2fe6":function(e,t,s){},"685d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search"},[s("Card",[s("Row",{staticClass:"operation"},[s("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.add}},[e._v("添加")]),s("Button",{attrs:{icon:"md-trash"},on:{click:e.delAll}},[e._v("批量删除")]),s("Button",{attrs:{icon:"md-refresh"},on:{click:e.getDataList}},[e._v("刷新")]),s("Button",{attrs:{type:"dashed"},on:{click:function(t){e.openTip=!e.openTip}}},[e._v(e._s(e.openTip?"关闭提示":"开启提示"))])],1),s("Row",{directives:[{name:"show",rawName:"v-show",value:e.openTip,expression:"openTip"}]},[s("Alert",{attrs:{"show-icon":""}},[e._v(" 已选择 "),s("span",{staticClass:"select-count"},[e._v(e._s(e.selectList.length))]),e._v(" 项 "),s("a",{staticClass:"select-clear",on:{click:e.clearSelectAll}},[e._v("清空")])])],1),s("Row",[s("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.changeSelect}})],1),s("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[s("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),s("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[s("Form",{ref:"form",attrs:{model:e.form,rules:e.formValidate,"label-width":100,"label-position":"left"}},[s("FormItem",{attrs:{label:"服务条款",prop:"to_s"}},[s("Input",{attrs:{type:"textarea",rows:4,maxlength:"250","show-word-limit":""},model:{value:e.form.to_s,callback:function(t){e.$set(e.form,"to_s",t)},expression:"form.to_s"}})],1),s("FormItem",{attrs:{label:"公司介绍",prop:"company_des"}},[s("Input",{attrs:{type:"textarea",rows:4,maxlength:"250","show-word-limit":""},model:{value:e.form.company_des,callback:function(t){e.$set(e.form,"company_des",t)},expression:"form.company_des"}})],1),s("FormItem",{attrs:{label:"XX规则",prop:"xx_rule"}},[s("Input",{attrs:{type:"textarea",rows:4,maxlength:"250","show-word-limit":""},model:{value:e.form.xx_rule,callback:function(t){e.$set(e.form,"xx_rule",t)},expression:"form.xx_rule"}})],1),s("FormItem",{attrs:{label:"会员权益",prop:"memb_interests"}},[s("Input",{attrs:{type:"textarea",rows:4,maxlength:"250","show-word-limit":""},model:{value:e.form.memb_interests,callback:function(t){e.$set(e.form,"memb_interests",t)},expression:"form.memb_interests"}})],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text"},on:{click:function(t){e.modalVisible=!1}}},[e._v("取消")]),s("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},i=[],o=s("365c"),n=(s("6c6d"),{name:"clausedescription",components:{},data:function(){var e=this;return{openTip:!0,loading:!0,modalType:0,modalVisible:!1,modalTitle:"",searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},form:{to_s:"",company_des:"",xx_rule:"",memb_interests:""},formValidate:{},submitLoading:!1,selectList:[],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"服务条款",key:"to_s",minWidth:120,sortable:!1},{title:"公司介绍",key:"company_des",minWidth:120,sortable:!1},{title:"XX规则",key:"xx_rule",minWidth:120,sortable:!1},{title:"会员权益",key:"memb_interests",minWidth:120,sortable:!1},{title:"操作",key:"action",align:"center",width:150,render:function(t,s){return t("div",[t("a",{on:{click:function(){e.edit(s.row)}}},"编辑"),t("Divider",{props:{type:"vertical"}}),t("a",{on:{click:function(){e.remove(s.row)}}},"删除")])}}],data:[],total:0}},methods:{init:function(){this.getDataList()},changePage:function(e){this.searchForm.pageNumber=e,this.getDataList(),this.clearSelectAll()},changePageSize:function(e){this.searchForm.pageSize=e,this.getDataList()},handleReset:function(){this.$refs.searchForm.resetFields(),this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},changeSort:function(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"===e.order&&(this.searchForm.order=""),this.getDataList()},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSelect:function(e){this.selectList=e},getDataList:function(){var e=this;this.loading=!0,Object(o["Ib"])(this.searchForm).then((function(t){e.loading=!1,t.success&&(e.data=t.result.content,e.total=t.result.totalElements,0==e.data.length&&e.searchForm.pageNumber>1&&(e.searchForm.pageNumber-=1,e.getDataList()))}))},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.submitLoading=!0,0===e.modalType?(delete e.form.id,Object(o["c"])(e.form).then((function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)}))):Object(o["X"])(e.form).then((function(t){e.submitLoading=!1,t.success&&(e.$Message.success("操作成功"),e.getDataList(),e.modalVisible=!1)})))}))},add:function(){this.modalType=0,this.modalTitle="添加",this.$refs.form.resetFields(),delete this.form.id,this.modalVisible=!0},edit:function(e){for(var t in this.modalType=1,this.modalTitle="编辑",this.$refs.form.resetFields(),e)null===e[t]&&(e[t]="");var s=JSON.stringify(e),a=JSON.parse(s);this.form=a,this.modalVisible=!0},remove:function(e){var t=this;this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+e.id+" ?",loading:!0,onOk:function(){Object(o["A"])({ids:e.id}).then((function(e){t.$Modal.remove(),e.success&&(t.$Message.success("操作成功"),t.clearSelectAll(),t.getDataList())}))}})},delAll:function(){var e=this;this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:function(){var t="";e.selectList.forEach((function(e){t+=e.id+","})),t=t.substring(0,t.length-1),Object(o["A"])({ids:t}).then((function(t){e.$Modal.remove(),t.success&&(e.$Message.success("操作成功"),e.clearSelectAll(),e.getDataList())}))}})}},mounted:function(){this.init()}}),r=n,l=(s("e772"),s("2877")),c=Object(l["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},"6c6d":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a=[{text:"今日",value:function(){var e=new Date,t=new Date;return e.setTime(t.getTime()),[t,e]}},{text:"昨日",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-864e5),e.setTime(e.getTime()-864e5),[t,e]}},{text:"本周",value:function(){var e=new Date,t=e.getDay(),s=e.getDate(),a=e.getMonth(),i=t||7,o=new Date(e.getFullYear(),a,s+1-i),n=new Date(e.getFullYear(),a,s+7-i);return o.setTime(o.getTime()),n.setTime(n.getTime()),[o,n]}},{text:"本月",value:function(){var e=new Date,t=e.getYear();t+=t<2e3?1900:0;var s=e.getMonth(),a=new Date(t,s,1),i=new Date(t,s+1,1),o=(i-a)/864e5,n=new Date(t,s,1),r=new Date(t,s,o);return n.setTime(n.getTime()),r.setTime(r.getTime()),[n,r]}}]},e772:function(e,t,s){"use strict";s("2fe6")}}]);